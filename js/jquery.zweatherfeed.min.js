(function(h){var j="odd";h.fn.weatherfeed=function(g,c){c=h.extend({unit:"c",image:!0,highlow:0,wind:0,link:!0,showerror:!0,linktarget:"_self"},c);return this.each(function(f,i){var a=h(i);a.hasClass("weatherFeed")||a.addClass("weatherFeed");if(!h.isArray(g))return!1;var e=g.length;10<e&&(e=10);for(var b="",f=0;f<e;f++)""!=b&&(b+=","),b+="'"+g[f]+"'";now=new Date;e="http://query.yahooapis.com/v1/public/yql?q="+encodeURIComponent("select * from weather.forecast where location in ("+b+") and u='"+
c.unit+"'")+"&rnd="+now.getFullYear()+now.getMonth()+now.getDay()+now.getHours()+"&format=json&callback=?";h.ajax({type:"GET",url:e,dataType:"json",success:function(b){if(b.query)if(0<b.query.results.channel.length)for(var f=b.query.results.channel.length,e=0;e<f;e++)l(i,b.query.results.channel[e],c,g[e]);else l(i,b.query.results.channel,c);else c.showerror&&a.html("<p>Weather information unavailable</p>")},error:function(){c.showerror&&a.html("<p>Weather request failed</p>")}})})};var l=function(g,
c,f,i){var g=h(g),a=c.wind.direction;348.75<=a&&360>=a&&(a="N");0<=a&&11.25>a&&(a="N");11.25<=a&&33.75>a&&(a="NNE");33.75<=a&&56.25>a&&(a="NE");56.25<=a&&78.75>a&&(a="ENE");78.75<=a&&101.25>a&&(a="E");101.25<=a&&123.75>a&&(a="ESE");123.75<=a&&146.25>a&&(a="SE");146.25<=a&&168.75>a&&(a="SSE");168.75<=a&&191.25>a&&(a="S");191.25<=a&&213.75>a&&(a="SSW");213.75<=a&&236.25>a&&(a="SW");236.25<=a&&258.75>a&&(a="WSW");258.75<=a&&281.25>a&&(a="W");281.25<=a&&303.75>a&&(a="WNW");303.75<=a&&326.25>a&&(a="NW");
326.25<=a&&348.75>a&&(a="NNW");var e=c.item.forecast[0];wpd=c.item.pubDate;n=wpd.indexOf(":");tpb=k(wpd.substr(n-2,8));tsr=k(c.astronomy.sunrise);tss=k(c.astronomy.sunset);daynight=tpb>tsr&&tpb<tss?"d":"n";var b='<div class="weatherItem '+j+'"';f.image&&(b+=' style="background-image: url(http://l.yimg.com/a/i/us/nws/weather/gr/'+c.item.condition.code+daynight+'.png); background-repeat: no-repeat;"');b=b+">"+('<div class="weatherCity">'+c.location.city+"</div>");b+='<div class="weatherTemp">'+c.item.condition.temp+
"&deg;</div>";b+='<div class="weatherDesc">'+c.item.condition.text+"</div>";f.highlow&&(b+='<div class="weatherRange">High: '+e.high+"&deg; Low: "+e.low+"&deg;</div>");f.wind&&(b+='<div class="weatherWind">Wind: '+a+" "+c.wind.speed+c.units.speed+"</div>");j="odd"==j?"even":"odd";g.append(b+"</div>")},k=function(g){d=new Date;return r=
new Date(d.toDateString()+" "+g)}})(jQuery);